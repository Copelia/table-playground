<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../polymer/lib/elements/dom-if.html">
<link rel="import" href="../paper-checkbox/paper-checkbox.html">
<link rel="import" href="../paper-button/paper-button.html">

<dom-module id="my-first-comp">
  <template>
   
    <style>

      table.myTable {
        text-align: center;
      }

      table.myTable td, table.myTable th {
        border: 1px solid #1d7e1a;
        padding: 1em 0.5em;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }

      table.myTable tbody td {
        font-size: 1em;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }

      input{
        margin-bottom: 0.5em;
        float: right;
      }

      paper-checkbox.blue {
      --paper-checkbox-checked-color: var(--paper-blue-500);
      --paper-checkbox-unchecked-color: var(--paper-blue-900);
      --paper-checkbox-label-checked-color: var(--paper-blue-900);
       }

       paper-button.indigo {
        background-color: var(--paper-indigo-500);
        color: white;
      }

      paper-button.green {
        background-color: var(--paper-green-500);
        color: white;
       }

      .button-container {
        margin-top: 2em;
        text-align: center;
      }

      .checkbox-week {
        float: left;
      }


    </style>
    <table class="myTable">
      <thead>
        <tr>
          <template is="dom-repeat" items="{{columnList}}" as="column">     
            <template is="dom-if" if="{{isType(column.tipo, 'input')}}">
              <td><input>{{column.colName}}</input></td>
            </template>
            <template is="dom-if" if="{{isType(column.tipo, 'td')}}">
              <td>{{column.colName}}</td>
            </template>
            <template is="dom-if" if="{{isType(column.tipo, 'button')}}">
              <td><button>{{column.colName}}</button></td>
            </template>
          </template>
        </tr>
      </thead>

      <template is="dom-repeat" items="{{productsList}}" as="product">     
        <tbody>
          <tr>       
            <td>{{product.tipo}}</td>
            <td>{{product.name}}</td>  
            <td> <paper-checkbox on-change="checkChanged"></paper-checkbox></td>
            <template is="dom-if" if="{{product.week}}">
              <template is="dom-repeat" items="{{weekList}}" as="week">
                <td>{{week.day}}<paper-checkbox class="checkbox-week"></paper-checkbox></td>      
              </template>
            </template>       
          </tr>
        </tbody>
      </template>
    </table>

    <div class="button-container">
      <paper-button raised class="indigo">ENVIAR</paper-button>
      <paper-button raised class="green">IMPRIMIR</paper-button>
    </div>
  </template>

  <script>
    /**
     * `my-first-comp`
     * My first polymer 2 component
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class MyFirstComp extends Polymer.Element {
      static get is() { return 'my-first-comp'; }
      static get properties() {
        return {
          columnList: {
            type: Array,
            value: function() {
              return[
              {colName: '', tipo:'', type: Boolean},
              ]
            }
          },
          productsList: {
              type: Array,
              value: function() {
                return[
                {name: '', tipo: '', week: true},
                ]
              }
            },
          weekList:{
              type: Array,
              value: function(){
                return[
                  {day: ''}
                ]
              }
            }
          }
        }

      //Methods
       checkChanged(event){
         if(event.target.checked) {
              console.log(event.target.value);
            }      
          }   

        isType(tipo, valor){ 
          return (tipo === valor);
        }
 
      }; 

    window.customElements.define(MyFirstComp.is, MyFirstComp);
  </script>
</dom-module>
